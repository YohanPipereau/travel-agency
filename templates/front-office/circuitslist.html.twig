{# templates/circuitslist.html.twig #}

{% extends "baselayout.html.twig" %}

{% block title %}{{ parent() }} - Circuits list{% endblock %}

{% block body %}
    <h1>List of circuits</h1>
    {% if circuitslist is not empty %}
        <p>Here are the circuits available after the {{ "now"|date('d-m-Y') }} :</p>
        <ul>
        {# Loop through list and creeate the list of circuit items. #}
        {% for circuit in circuitslist %}
             {% for programmation in circuit.programmations %}
                 {% if programmation.dateDepart|date('Ymd') < "now"|date('Ymd') %}
                <li>
                    <a href="{{ path('circuitshow', { 'id' : circuit.id }) }}">{{ circuit.description }}</a>
                </li>
                {% endif %}
             {% endfor %}
        {% endfor %}
        </ul>
    {% else %}
        <p>Sorry, you don't have any circuits yet!</p>
    {% endif %}

{% endblock %} {# body #}
